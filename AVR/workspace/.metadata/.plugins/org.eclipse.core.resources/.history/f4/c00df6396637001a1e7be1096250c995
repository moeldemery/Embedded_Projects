/*
 * UART_driver.c
 *
 *  Created on: 15 Jan 2020
 *      Author: Mohamed
 */
#include "UART_driver.h"


UASRT_config_t UART_group[] = {{RX_TX_EN 	 , UART_MODE ,	 DATA_8_BIT 	, DISABLE_PARITY, \
								ENDING_1_BIT , RISING_TX_FALLING_RX 		,9600}};

void UART_Init(void)
{
	u32 ubrr= F_CPU/16/(UART_group[1].BoadRate -1);
	UBRRH= (u8) ubrr>>8;
	UBRRL= (u8) ubrr;

	switch (UART_group[1].enable)
	{
		case RX_EN:
		{
			SET_BIT(UCSRB,RXEN);
			break;
		}
		case TX_EN:
		{
			SET_BIT(UCSRB,TXEN);
			break;
		}
		case RX_TX_EN:
		{
			SET_BIT(UCSRB,RXEN);
			SET_BIT(UCSRB,TXEN);
			break;
		}
		default:
		{
			#warning "unexpected input in UART Enable type"
			break;
		}

	}

}
