/*
 * UART_driver.h
 *
 *  Created on: 15 Jan 2020
 *      Author: Mohamed
 */

#ifndef MCAL_INC_UART_DRIVER_H_
#define MCAL_INC_UART_DRIVER_H_

#include "STD_TYPES.h"
#include "BIT_MATH.h"

#define 		UDR	 			*((volatile u8 * ) (0x0C))
#define 		UCSRA 			*((volatile u8 * ) (0x0B))

	#define 	RXC 			7
	#define 	TXC 			6
	#define 	UDRE 			5
	#define 	FE	 			4
	#define 	DOR 			3
	#define 	PE	 			2
	#define 	U2X 			1
	#define 	MPCM 			0

#define 		UCSRB 			*((volatile u8 * ) (0x0A))

	#define 	RXCIE 			7
	#define 	TXCIE 			6
	#define 	UDRIE 			5
	#define 	RXEN 			4
	#define 	TXEN 			3
	#define 	UCSZ2 			2
	#define 	RXB8 			1
	#define 	TXB8 			0

#define 		UCSRC 			*((volatile u8 * ) (0x20))

	#define 	URSEL 			7
	#define 	UMSEL 			6
	#define 	UPM1 			5
	#define 	UPM0 			4
	#define 	USBS 			3
	#define 	UCSZ1 			2
	#define 	UCSZ0 			1
	#define 	UCPOL 			0

#define 		UBRRH 			*((volatile u8 * ) (0x20))
#define 		UBRRL 			*((volatile u8 * ) (0x09))

typedef enum {RX_EN,TX_EN,RX_TX_EN} enable_t ;
typedef enum {UART_MODE , USART_MODE } UART_USART_t ;
typedef enum {DATA_5_BIT , DATA_6_BIT,DATA_7_BIT,DATA_8_BIT,DATA_9_BIT } dataFrame_t ;
typedef enum {DISABLE_PARITY , EVEN_PARITY , ODD_PARITY } parityBits_t ;
typedef enum {ENDING_1_BIT , ENDING_2_BIT } endingBits_t ;
typedef enum {RISING_TX_FALLING_RX , FALLING_TX_RISING_RX } clockPolarity_t ;

typedef struct
{
	enable_t 			enable;
	UART_USART_t		UART_USART;
	dataFrame_t			dataFrame;
	parityBits_t		parity;
	endingBits_t		endingBits;
	clockPolarity_t		clockPolarity;
	u16					BoadRate;

}UASRT_config_t;

void UART_void_Init(void);
void UART_void_TX(u8);

#endif /* MCAL_INC_UART_DRIVER_H_ */
