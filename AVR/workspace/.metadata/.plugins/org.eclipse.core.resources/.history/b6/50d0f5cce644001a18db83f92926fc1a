/*
 * main.c
 *
 *  Created on: 1 Feb 2020
 *      Author: Mohamed
 */

#include "FreeRTOS/FreeRTOS.h"
#include "FreeRTOS/task.h"


/* Define Tasks Priorities */
#define  TASK1_PRIORITY (3)
#define  TASK2_PRIORITY (3)


void task1_code(void*pvParamter);
 void task2_code(void*pvParamter);

int main(void)
{
	DDRD=0xff;
	xTaskCreate(task1_code,NULL,85,NULL,1,NULL);//pointer fn -name-stacksize-piority-pointer to task
	xTaskCreate(task2_code,NULL,85,NULL,0,NULL);
	vTaskStartScheduler();

	return 0;
}


void task1_code(void*pvParamter)
{
	//portTickType xLastWakeTime;
	//xLastWakeTime =
	while(1)
	{
		 PORTD = 0x0f;
		 vTaskDelayUntil( xTaskGetTickCount(), 10000 );
		PORTD = 0xf0;
		vTaskDelayUntil( &xLastWakeTime, 10000 );
	}
}
 void task2_code(void*pvParamter)
 {
	 while (1)
	 {
		PORTD = 0xff;
		vTaskDelay(2000);
		PORTD = 0x00;
		vTaskDelay(2000);
	 }

 }


